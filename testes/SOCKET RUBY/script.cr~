#!/bin/ruby
#
require "socket"

hostname = "127.0.0.1"
port = 7420

s = TCPSocket.new(hostname, port)

retorno = ""


retorno = "APP 1 interface@servidor senatauri"
s.puts retorno.chomp
ensure retorno not nil
puts "\t" + retorno

retorno =  s.gets
puts retorno

retorno = "APP 4 Q * abcdefghij\0"
puts "\t" + retorno
s.puts retorno.chomp

retorno = s.gets
puts retorno.chomp

retorno = "APP sair"
s.puts retorno.chomp
puts "\t" + retorno

retorno =  s.gets
puts retorno

#while line = s.gets
#	puts line.chop
#end

s.close
